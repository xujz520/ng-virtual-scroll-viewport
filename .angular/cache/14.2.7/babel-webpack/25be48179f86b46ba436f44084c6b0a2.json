{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nfunction ContentVisibilityComponent_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r2.index);\n  }\n}\n\nexport let ContentVisibilityComponent = /*#__PURE__*/(() => {\n  class ContentVisibilityComponent {\n    constructor() {\n      this.list = [];\n      this.list = Array(500).fill(null).map((v, i) => ({\n        index: i + 1\n      }));\n    }\n\n    test(ul) {\n      ul.scrollTop = 0;\n      setTimeout(() => {\n        alert(ul.lastElementChild.innerText === '');\n      }, 40);\n    }\n\n  }\n\n  ContentVisibilityComponent.ɵfac = function ContentVisibilityComponent_Factory(t) {\n    return new (t || ContentVisibilityComponent)();\n  };\n\n  ContentVisibilityComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContentVisibilityComponent,\n    selectors: [[\"app-content-visibility\"]],\n    decls: 17,\n    vars: 1,\n    consts: [[1, \"ul\", 2, \"width\", \"300px\", \"height\", \"300px\", \"background\", \"antiquewhite\"], [\"ul\", \"\"], [\"class\", \"item\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [1, \"item\"]],\n    template: function ContentVisibilityComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r3 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"ul\", 0, 1);\n        i0.ɵɵtemplate(2, ContentVisibilityComponent_li_2_Template, 2, 1, \"li\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"br\");\n        i0.ɵɵelementStart(4, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function ContentVisibilityComponent_Template_button_click_4_listener() {\n          i0.ɵɵrestoreView(_r3);\n\n          const _r0 = i0.ɵɵreference(1);\n\n          return i0.ɵɵresetView(ctx.test(_r0));\n        });\n        i0.ɵɵtext(5, \"\\u6D4B\\u8BD5\\u4F18\\u5316\\u662F\\u5426\\u751F\\u6548\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(6, \" (\\u89C6\\u53E3\\u4E4B\\u5916\\u5143\\u7D20\\u7684\\u5185\\u5BB9\\u662F\\u5426\\u4E3A\\u7A7A) \");\n        i0.ɵɵelement(7, \"hr\");\n        i0.ɵɵelementStart(8, \"h4\");\n        i0.ɵɵtext(9, \"content-visibility \\u4F7F\\u7528\\u7684\\u6CE8\\u610F\\u4E8B\\u9879\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"ul\")(11, \"li\");\n        i0.ɵɵtext(12, \"\\u53EA\\u662F\\u4E0D\\u663E\\u793A\\u5B50\\u8282\\u70B9, \\u7236\\u5143\\u7D20\\u672C\\u8EAB\\u4F9D\\u7136\\u5B58\\u5728\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"li\");\n        i0.ɵɵtext(14, \"\\u5BF9 table tr \\u65E0\\u6548\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"li\");\n        i0.ɵɵtext(16, \"\\u89C6\\u53E3\\u5916\\u7684\\u9759\\u6001\\u8D44\\u6E90\\u4F9D\\u7136\\u4F1A\\u88AB\\u52A0\\u8F7D(<img src=\\\"xxx\\\">)\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.list);\n      }\n    },\n    dependencies: [i1.NgForOf],\n    styles: [\".ul[_ngcontent-%COMP%]{margin:0;list-style:none;overflow:auto}.ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{height:30px;line-height:30px;content-visibility:auto;contain-intrinsic-size:30px}\"],\n    changeDetection: 0\n  });\n  return ContentVisibilityComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}